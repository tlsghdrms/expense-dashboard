<%- include('./include/_header') %>

<div class="container" style="text-align: center; padding: 60px 20px;">
    
    <h2 style="margin-bottom: 10px; color: #333; border: none;">🏆 <%= month %>월 소비 리포트</h2>
    <p style="color: #666; margin-bottom: 50px;">다른 학우들과 비교한 나의 절약 점수입니다.</p>

    <div style="
        background: #fff;
        border: 3px solid #036b3f; /* KU Green 테두리 */
        border-radius: 15px;
        padding: 50px;
        max-width: 500px;
        margin: 0 auto;
        box-shadow: 0 15px 30px rgba(3, 107, 63, 0.15);
        position: relative;
    ">
        <div style="width: 60px; height: 5px; background: #a39346; margin: 0 auto 30px auto; border-radius: 3px;"></div>

        <h3 style="margin: 0 0 15px 0; font-size: 1.4rem; font-weight: normal; color: #555;">
            <strong><%= user.username %></strong> 님의 순위
        </h3>

        <div style="
            font-size: 5rem; 
            font-weight: 900; 
            color: #a39346; 
            margin-bottom: 5px; 
            line-height: 1;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.05);
        ">
            <%= myRank %><span style="font-size: 2.2rem; font-weight: 600; color: #333;">위</span>
        </div>
        
        <p style="font-size: 1.1rem; color: #888; margin-bottom: 35px;">
            ( 전체 <%= totalUsers %>명 중 )
        </p>

        <div style="background-color: #f1f8f5; padding: 25px; margin-bottom: 30px; border-radius: 10px;">
            <p style="margin: 0; font-size: 1rem; color: #555;">이번 달 총 지출액</p>
            <p style="margin: 5px 0 0 0; font-size: 1.8rem; font-weight: 800; color: #036b3f;">
                <%= myTotal.toLocaleString() %> <span style="font-size: 1.1rem; font-weight: normal;">원</span>
            </p>
        </div>

        <p style="font-size: 1.2rem; font-weight: bold;">
            <% if (percentile <= 20) { %>
                <span style="color: #036b3f;">🎉 축하합니다! 상위 <%= percentile %>% 절약왕!</span>
            <% } else if (percentile >= 80) { %>
                <span style="color: #dc3545;">🚨 주의! 상위 <%= percentile %>% 과소비 상태입니다.</span>
            <% } else { %>
                <span style="color: #a39346;">🙂 상위 <%= percentile %>% 로 평균적인 소비 중입니다.</span>
            <% } %>
        </p>

    </div>

    <div style="margin-top: 50px;">
        <a href="/expenses" class="btn btn-primary" style="
            padding: 12px 35px; 
            border-radius: 30px; 
            box-shadow: 0 4px 10px rgba(3, 107, 63, 0.3);
            transition: transform 0.2s;
        " onmouseover="this.style.transform='translateY(-2px)'" onmouseout="this.style.transform='translateY(0)'">
            나의 지출로 돌아가기
        </a>
    </div>

</div>

<%- include('./include/_footer') %>